"use strict";(self.webpackChunkgulp_builder=self.webpackChunkgulp_builder||[]).push([[936],{936:(t,e,s)=>{var a=s(272);var i=s(68);class o{static closestField(t){return t?.closest?.(".field")||null}static add(t,e){const s=o.closestField(t);s&&s.classList.add(e)}static remove(t,e){const s=o.closestField(t);s&&s.classList.remove(e)}}class l{constructor(){this.bound=[]}apply(t){}track(t){this.bound.push(t)}destroy(){this.bound.forEach(t=>{try{i.A.remove(t)}catch{}}),this.bound=[]}}class n extends l{apply(t){(0,i.A)({mask:"+7 (999) 999-99-99",showMaskOnHover:!1,showMaskOnFocus:!0,jitMasking:!1,clearIncomplete:!0,placeholder:"_",onincomplete:()=>{t.value="",o.add(t,"_has-error")},oncomplete:()=>{o.remove(t,"_has-error")}}).mask(t),this.track(t)}}class r extends l{apply(t){(0,i.A)({showMaskOnHover:!1,jitMasking:!0,clearMaskOnLostFocus:!0,clearIncomplete:!0,alias:"email",onincomplete:()=>o.add(t,"_incomplete"),oncomplete:()=>o.remove(t,"_incomplete")}).mask(t),this.track(t)}}class c extends l{apply(t){(0,i.A)({showMaskOnHover:!1,jitMasking:!0,regex:"^[а-яА-Яa-zA-Z]*[ ][а-яА-Яa-zA-Z]*$"}).mask(t),this.track(t)}}class h{constructor(t={}){this.root=t.root||document,this.selectors={tel:t.telSel||"[data-tel-mask]",mail:t.mailSel||"[data-mail-mask]",name:t.nameSel||"[data-name-mask]"},this.strategies={tel:t.telStrategy||new n,mail:t.mailStrategy||new r,name:t.nameStrategy||new c},this.applied=[]}init(){const t=this.root.querySelectorAll(this.selectors.tel),e=this.root.querySelectorAll(this.selectors.mail),s=this.root.querySelectorAll(this.selectors.name);(t.length||e.length||s.length)&&(t.forEach(t=>this.strategies.tel.apply(t)),e.forEach(t=>this.strategies.mail.apply(t)),s.forEach(t=>this.strategies.name.apply(t)))}destroy(){this.strategies.tel.destroy(),this.strategies.mail.destroy(),this.strategies.name.destroy()}static bootstrap(t=document){const e=new h({root:t});return e.init(),e}}var u=s(880);a.U.addClass(document.documentElement,"_page-loaded");const m=a.U.qs(".header__nav",document);m&&new class{constructor(t,{itemSel:e=".header__nav-item",btnSel:s=".nav-item__btn",activeCl:i="_is-active",mq:o="(min-width: 48.01em)",clearOnLeave:l=!0,escToClear:n=!0}={}){this.root=t,this.itemSel=e,this.btnSel=s,this.activeCl=i,this.clearOnLeave=l,this.escToClear=n,this._unsubs=[],this._mode=null,this._animMap=new WeakMap,this._currentDesktopActive=null,this._mqCtl=a.U.mediaQuery(o,t=>{this._switchMode(t?"desktop":"mobile")})}get items(){return a.U.qsa(this.itemSel,this.root)}_switchMode(t){this._mode!==t&&(this._teardown(),this._mode=t,"desktop"===t?this._setupDesktop():this._setupMobile(),this.items.forEach(t=>a.U.removeClass(t,this.activeCl)),this._currentDesktopActive=null)}_teardown(){this._unsubs.forEach(t=>{try{t()}catch(t){}}),this._unsubs=[],this.items.forEach(t=>this._cleanupSubmenu(t,!0))}_setupDesktop(){const t=a.U.delegate(this.root,"mouseover",this.itemSel,(t,e)=>{if(this._currentDesktopActive===e)return;const s=this._currentDesktopActive;this._currentDesktopActive=e,s&&s!==e&&this._cleanupSubmenu(s),a.U.setExclusiveActive(this.items,e,this.activeCl),this._animateSubmenu(e)},{passive:!0});let e=()=>{};if(this.clearOnLeave){const t=t=>{this.root.contains(t.relatedTarget)||(this.items.forEach(t=>{a.U.removeClass(t,this.activeCl),this._cleanupSubmenu(t)}),this._currentDesktopActive=null)};this.root.addEventListener("mouseout",t),e=()=>this.root.removeEventListener("mouseout",t)}this._unsubs.push(t,e)}_getSubmenuItems(t){return a.U.qsa(".sublist-nav-item__item",t)}_animateSubmenu(t){const e=this._getSubmenuItems(t);if(!e.length)return;const s=this._animMap.get(t);s&&(s.kill(),this._animMap.delete(t)),gsap.killTweensOf(e),gsap.set(e,{y:18,autoAlpha:0});const a=gsap.to(e,{y:0,autoAlpha:1,duration:.35,ease:"power2.out",stagger:.06,overwrite:"auto",paused:!1});this._animMap.set(t,a)}_cleanupSubmenu(t,e=!1){const s=this._animMap.get(t);s&&(s.kill(),this._animMap.delete(t));const a=this._getSubmenuItems(t);a.length&&(gsap.killTweensOf(a),e?gsap.set(a,{clearProps:"all"}):gsap.set(a,{y:0,autoAlpha:1}))}_setupMobile(){const t=a.U.delegate(this.root,"click",this.btnSel,(t,e)=>{t.preventDefault();const s=a.U.closest(e,this.itemSel);if(!s)return;const i=!a.U.hasClass(s,this.activeCl);this.items.forEach(t=>{a.U.removeClass(t,this.activeCl),this._cleanupSubmenu(t)}),i&&(a.U.addClass(s,this.activeCl),this._animateSubmenu(s))});let e=()=>{};if(this.escToClear){const t=t=>{"Escape"===t.key&&this.items.forEach(t=>{a.U.removeClass(t,this.activeCl),this._cleanupSubmenu(t)})};document.addEventListener("keydown",t),e=()=>document.removeEventListener("keydown",t)}this._unsubs.push(t,e)}_syncA11y(t){const e=a.U.qsa(this.btnSel,t)[0],s=a.U.qsa(".nav-item__submenu",t)[0];this.items.forEach(t=>{const e=a.U.qsa(this.btnSel,t)[0],s=a.U.qsa(".nav-item__submenu",t)[0];e&&e.setAttribute("aria-expanded",String(!1)),s&&s.setAttribute("aria-hidden",String(!0))}),e&&e.setAttribute("aria-expanded",String(!0)),s&&s.setAttribute("aria-hidden",String(!1))}destroy(){this._teardown(),this._mqCtl.destroy()}}(m,{itemSel:".header__nav-item",btnSel:".nav-item__btn",activeCl:"_is-active",mq:"(min-width: 48.01em)",clearOnLeave:!0,escToClear:!0}),(new h).init(),new class{constructor(t){this.rules=t,this.groups=this.mapGroups(t)}mapGroups(t){const e={};return t.forEach(t=>{e[t.group]||(e[t.group]=[]),e[t.group].push(t)}),e}init(){this.rules.forEach(t=>{t.element.addEventListener("click",()=>this.toggle(t))})}toggle(t){const e=this.groups[t.group],s=t.element.classList.contains(t.className);e.forEach(t=>t.element.classList.remove(t.className)),s||t.element.classList.add(t.className)}}([...document.querySelectorAll("[data-toggle]")].map(t=>{const e=(s=t.dataset.toggle,Object.fromEntries(s.split(";").map(t=>t.split(":"))));var s;return{element:t,group:e.group,className:e.class?e.class:"_is-active"}})).init(),new class{constructor(t){this.rules=t}init(){this.rules.forEach(t=>{t.element.addEventListener("click",()=>this.toggle(t))})}toggle(t){t.target&&("on"===t.action?(t.target.classList.add(t.className),console.log(t.lock),t.lock&&"true"===t.lock&&u.c.stop()):(t.target.classList.remove(t.className),t.lock&&"false"===t.lock&&u.c.start()))}}([...document.querySelectorAll("[data-switch]")].map(t=>{const e=(s=t.dataset.switch,Object.fromEntries(s.split(";").map(t=>{const e=t.indexOf(":");return[t.slice(0,e),t.slice(e+1)]})));var s;return{element:t,target:document.querySelector(e.target),className:e.class||"_is-active",action:"off"===e.action?"off":"on",lock:"true"===e.lock?"true":"false"}})).init()}}]);