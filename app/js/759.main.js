"use strict";(self.webpackChunkgulp_builder=self.webpackChunkgulp_builder||[]).push([[759],{759:(t,e,s)=>{var i=s(272);var a=s(68);class n{static closestField(t){return t?.closest?.(".field")||null}static add(t,e){const s=n.closestField(t);s&&s.classList.add(e)}static remove(t,e){const s=n.closestField(t);s&&s.classList.remove(e)}}class o{constructor(){this.bound=[]}apply(t){}track(t){this.bound.push(t)}destroy(){this.bound.forEach(t=>{try{a.A.remove(t)}catch{}}),this.bound=[]}}class l extends o{apply(t){(0,a.A)({mask:"+7 (999) 999-99-99",showMaskOnHover:!1,showMaskOnFocus:!0,jitMasking:!1,clearIncomplete:!0,placeholder:"_",onincomplete:()=>{t.value="",n.add(t,"_has-error")},oncomplete:()=>{n.remove(t,"_has-error")}}).mask(t),this.track(t)}}class r extends o{apply(t){(0,a.A)({showMaskOnHover:!1,jitMasking:!0,clearMaskOnLostFocus:!0,clearIncomplete:!0,alias:"email",onincomplete:()=>n.add(t,"_incomplete"),oncomplete:()=>n.remove(t,"_incomplete")}).mask(t),this.track(t)}}class c extends o{apply(t){(0,a.A)({showMaskOnHover:!1,jitMasking:!0,regex:"^[а-яА-Яa-zA-Z]*[ ][а-яА-Яa-zA-Z]*$"}).mask(t),this.track(t)}}class h{constructor(t={}){this.root=t.root||document,this.selectors={tel:t.telSel||"[data-tel-mask]",mail:t.mailSel||"[data-mail-mask]",name:t.nameSel||"[data-name-mask]"},this.strategies={tel:t.telStrategy||new l,mail:t.mailStrategy||new r,name:t.nameStrategy||new c},this.applied=[]}init(){const t=this.root.querySelectorAll(this.selectors.tel),e=this.root.querySelectorAll(this.selectors.mail),s=this.root.querySelectorAll(this.selectors.name);(t.length||e.length||s.length)&&(t.forEach(t=>this.strategies.tel.apply(t)),e.forEach(t=>this.strategies.mail.apply(t)),s.forEach(t=>this.strategies.name.apply(t)))}destroy(){this.strategies.tel.destroy(),this.strategies.mail.destroy(),this.strategies.name.destroy()}static bootstrap(t=document){const e=new h({root:t});return e.init(),e}}i.U.addClass(document.documentElement,"_page-loaded");const u=i.U.qs(".header__nav",document);u&&new class{constructor(t,{itemSel:e=".header__nav-item",btnSel:s=".nav-item__btn",activeCl:a="_is-active",mq:n="(min-width: 48.01em)",clearOnLeave:o=!0,escToClear:l=!0}={}){this.root=t,this.itemSel=e,this.btnSel=s,this.activeCl=a,this.clearOnLeave=o,this.escToClear=l,this._unsubs=[],this._mode=null,this._animMap=new WeakMap,this._currentDesktopActive=null,this._mqCtl=i.U.mediaQuery(n,t=>{this._switchMode(t?"desktop":"mobile")})}get items(){return i.U.qsa(this.itemSel,this.root)}_switchMode(t){this._mode!==t&&(this._teardown(),this._mode=t,"desktop"===t?this._setupDesktop():this._setupMobile(),this.items.forEach(t=>i.U.removeClass(t,this.activeCl)),this._currentDesktopActive=null)}_teardown(){this._unsubs.forEach(t=>{try{t()}catch(t){}}),this._unsubs=[],this.items.forEach(t=>this._cleanupSubmenu(t,!0))}_setupDesktop(){const t=i.U.delegate(this.root,"mouseover",this.itemSel,(t,e)=>{if(this._currentDesktopActive===e)return;const s=this._currentDesktopActive;this._currentDesktopActive=e,s&&s!==e&&this._cleanupSubmenu(s),i.U.setExclusiveActive(this.items,e,this.activeCl),this._animateSubmenu(e)},{passive:!0});let e=()=>{};if(this.clearOnLeave){const t=t=>{this.root.contains(t.relatedTarget)||(this.items.forEach(t=>{i.U.removeClass(t,this.activeCl),this._cleanupSubmenu(t)}),this._currentDesktopActive=null)};this.root.addEventListener("mouseout",t),e=()=>this.root.removeEventListener("mouseout",t)}this._unsubs.push(t,e)}_getSubmenuItems(t){return i.U.qsa(".sublist-nav-item__item",t)}_animateSubmenu(t){const e=this._getSubmenuItems(t);if(!e.length)return;const s=this._animMap.get(t);s&&(s.kill(),this._animMap.delete(t)),gsap.killTweensOf(e),gsap.set(e,{y:18,autoAlpha:0});const i=gsap.to(e,{y:0,autoAlpha:1,duration:.35,ease:"power2.out",stagger:.06,overwrite:"auto",paused:!1});this._animMap.set(t,i)}_cleanupSubmenu(t,e=!1){const s=this._animMap.get(t);s&&(s.kill(),this._animMap.delete(t));const i=this._getSubmenuItems(t);i.length&&(gsap.killTweensOf(i),e?gsap.set(i,{clearProps:"all"}):gsap.set(i,{y:0,autoAlpha:1}))}_setupMobile(){const t=i.U.delegate(this.root,"click",this.btnSel,(t,e)=>{t.preventDefault();const s=i.U.closest(e,this.itemSel);if(!s)return;const a=!i.U.hasClass(s,this.activeCl);this.items.forEach(t=>{i.U.removeClass(t,this.activeCl),this._cleanupSubmenu(t)}),a&&(i.U.addClass(s,this.activeCl),this._animateSubmenu(s))});let e=()=>{};if(this.escToClear){const t=t=>{"Escape"===t.key&&this.items.forEach(t=>{i.U.removeClass(t,this.activeCl),this._cleanupSubmenu(t)})};document.addEventListener("keydown",t),e=()=>document.removeEventListener("keydown",t)}this._unsubs.push(t,e)}_syncA11y(t){const e=i.U.qsa(this.btnSel,t)[0],s=i.U.qsa(".nav-item__submenu",t)[0];this.items.forEach(t=>{const e=i.U.qsa(this.btnSel,t)[0],s=i.U.qsa(".nav-item__submenu",t)[0];e&&e.setAttribute("aria-expanded",String(!1)),s&&s.setAttribute("aria-hidden",String(!0))}),e&&e.setAttribute("aria-expanded",String(!0)),s&&s.setAttribute("aria-hidden",String(!1))}destroy(){this._teardown(),this._mqCtl.destroy()}}(u,{itemSel:".header__nav-item",btnSel:".nav-item__btn",activeCl:"_is-active",mq:"(min-width: 48.01em)",clearOnLeave:!0,escToClear:!0}),(new h).init()}}]);